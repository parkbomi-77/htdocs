<html>
<head>
</head>
<body>
<button id="clickButton" onclick="checkPlayerState()">참여하기</button><br>
<div id="player">
</div>
<script src="https://player.vimeo.com/api/player.js"></script>
<script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '360',
          width: '640',
          videoId: 'Wac9LIURW1I' //여기에 비디오 ID를 삽입한다. 
//만약에 유튜브 공유 주소가 https://www.youtube.com/watch?v=Wac9LIURW1I라면 v=뒤의 값을 넣는다
        });
      }

function checkPlayerState() {
  alert(player.getPlayerState());
  alert(player.getCurrentTime());
}

function watchVideoAndDownloadFile() {
 if(player.getPlayerState() == 0) {
  //앵커 태그를 생성한다.
  var link = document.createElement('a');
  link.href = "파일 주소";
  link.download = 'download_file_name'; //여기서 지정한 이름으로 다운로드 된다.
  link.click();
 } else {
  alert('동영상을 끝까지 시청해주세요.');
 }
}
</script>
</body>
</html>


